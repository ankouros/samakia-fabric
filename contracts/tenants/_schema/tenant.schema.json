{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Tenant",
  "type": "object",
  "additionalProperties": false,
  "required": ["apiVersion", "kind", "metadata", "spec"],
  "properties": {
    "apiVersion": {"type": "string"},
    "kind": {"const": "Tenant"},
    "metadata": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "name"],
      "properties": {
        "id": {"type": "string"},
        "name": {"type": "string"}
      }
    },
    "spec": {
      "type": "object",
      "additionalProperties": false,
      "required": ["owner", "environments", "isolation", "slo", "dr"],
      "properties": {
        "owner": {"type": "string"},
        "environments": {
          "type": "object",
          "additionalProperties": false,
          "required": ["dev", "shared", "prod"],
          "properties": {
            "dev": {"type": "boolean"},
            "shared": {"type": "boolean"},
            "prod": {"type": "boolean"}
          }
        },
        "isolation": {
          "type": "object",
          "additionalProperties": false,
          "required": ["level"],
          "properties": {
            "level": {"enum": ["soft", "strong", "hard"]}
          }
        },
        "slo": {
          "type": "object",
          "additionalProperties": false,
          "required": ["availability"],
          "properties": {
            "availability": {"type": "number"}
          }
        },
        "dr": {
          "type": "object",
          "additionalProperties": false,
          "required": ["rpo", "rto", "required_testcases"],
          "properties": {
            "rpo": {"type": "string"},
            "rto": {"type": "string"},
            "required_testcases": {
              "type": "array",
              "items": {"type": "string"}
            }
          }
        }
      }
    }
  }
}
