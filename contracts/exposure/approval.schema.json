{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ExposureApproval",
  "type": "object",
  "additionalProperties": false,
  "required": ["apiVersion", "kind", "scope", "approver", "approved_at", "reason"],
  "properties": {
    "apiVersion": {"type": "string"},
    "kind": {"const": "ExposureApproval"},
    "proposal_id": {"type": "string"},
    "plan_evidence_ref": {"type": "string"},
    "scope": {
      "type": "object",
      "additionalProperties": false,
      "required": ["env", "tenant", "workload"],
      "properties": {
        "env": {"type": "string"},
        "tenant": {"type": "string"},
        "workload": {"type": "string"}
      }
    },
    "approver": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id"],
      "properties": {
        "id": {"type": "string"},
        "name": {"type": "string"},
        "role": {"type": "string"}
      }
    },
    "approved_at": {"type": "string"},
    "change_window": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "window_id": {"type": "string"},
        "start": {"type": "string"},
        "end": {"type": "string"}
      }
    },
    "reason": {"type": "string"},
    "signature_ref": {"type": "string"}
  }
}
